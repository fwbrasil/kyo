syntax = "proto3";

package kyo.grpc;

service TestService {
    rpc Unary(Request) returns (Response);
}

message Request {
    oneof sealed_value {
        Echo echo = 1;
        Fail fail = 2;
    }
}

message Response {
    oneof sealed_value {
        EchoEcho echo = 1;
    }
}

message Echo {
    string message = 1;
}

message EchoEcho {
    string message = 1;
}

message Fail {
    int32 code = 1;
}
